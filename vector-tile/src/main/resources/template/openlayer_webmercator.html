<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>聚合</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.bootcss.com/openlayers/4.6.5/ol.css">
</head>
<body>
<div id="map" class="map" style=" width: 100%;height: 100%;font-size: 14px; position: absolute;"></div>
<script type="text/javascript" src="https://cdn.bootcss.com/openlayers/4.6.5/ol.js"></script>
<script>

    var map = new ol.Map({
        controls: ol.control.defaults({
            attribution: false
        }),
        target: 'map',
        layers: [new ol.layer.Tile({
            source: new ol.source.XYZ({
                url: 'http://t0.tianditu.gov.cn/DataServer?T=vec_w&x={x}&y={y}&l={z}&tk=9fb37f7d888b84de41af517302a0b55c'
            })
        }), new ol.layer.Tile({
            source: new ol.source.XYZ({
                url: 'http://t0.tianditu.gov.cn/DataServer?T=cva_w&x={x}&y={y}&l={z}&tk=9fb37f7d888b84de41af517302a0b55c'
            })
        })],
        view: new ol.View({
            projection: 'EPSG:3857',
            center: ol.proj.fromLonLat([116.3768, 39.9065]),
            minZoom: 2,
            maxZoom: 18,
            zoom: 13
        })
    });

    var source = new ol.source.VectorTile({
        url: 'http://localhost:9001/api/tile?type=0&z={z}&x={x}&y={y}',
        format: new ol.format.MVT({}),
        projection: 'EPSG:3857',
        wrapX: false
    });


    var pointLayer = new ol.layer.VectorTile({
        source: source,
        style: new ol.style.Style({
            stroke: new ol.style.Stroke({
                color: 'rgba(255,0,0,1.0)',
                width: 2
            }),
            fill: new ol.style.Fill({
                color: 'rgba(26,255,104,0.5)'
            })
        })

    });
    map.addLayer(pointLayer);
</script>
</body>
</html>